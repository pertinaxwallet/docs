<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Standard/TIP-32/1">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">1. Web3 provider javascript API | Docs of Everscale</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.everscale.network/Standard/TIP-32/1"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="1. Web3 provider javascript API | Docs of Everscale"><meta data-rh="true" name="description" content="Abstract"><meta data-rh="true" property="og:description" content="Abstract"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.everscale.network/Standard/TIP-32/1"><link data-rh="true" rel="alternate" href="https://docs.everscale.network/Standard/TIP-32/1" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.everscale.network/Standard/TIP-32/1" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ebfab3f4.css">
<link rel="preload" href="/assets/js/runtime~main.fe471d0f.js" as="script">
<link rel="preload" href="/assets/js/main.f613e946.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Everscale Documentation" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Everscale Documentation" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Everscale Documentation</b></a><a class="navbar__item navbar__link" href="/arch">Architecture</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/standard">Standards</a><a class="navbar__item navbar__link" href="/develop">Build</a><a class="navbar__item navbar__link" href="/validate">Validate</a><a class="navbar__item navbar__link" href="/develop/integrate">Integrate</a><a class="navbar__item navbar__link" href="/learn">Learn</a><a class="navbar__item navbar__link" href="/changelog">Changelog</a></div><div class="navbar__items navbar__items--right"><a href="https://blog.everscale.network/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://everos.dev/status" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/everscale-org/docs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/learn">Learn</a><button aria-label="Toggle the collapsible sidebar category &#x27;Learn&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/arch">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/develop">Build</a><button aria-label="Toggle the collapsible sidebar category &#x27;Build&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/validate">Validate</a><button aria-label="Toggle the collapsible sidebar category &#x27;Validate&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/standard">Standards</a><button aria-label="Toggle the collapsible sidebar category &#x27;Standards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/contribute">Contribute</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/Standard/TIP-32/core-description">Standard</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/Standard/TIP-32/core-description">TIP-32 Web3</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Standard/TIP-32/core-description">Core description</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Standard/TIP-32/1">1. Web3 provider javascript API</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog">Network Changelog</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Standard</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">TIP-32 Web3</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">1. Web3 provider javascript API</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>1. Web3 provider javascript API</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="abstract">Abstract<a class="hash-link" href="#abstract" title="Direct link to heading">​</a></h2><p>A common convention in the EVERSCALE web application (“DApp”) ecosystem is for key management software (“wallets”) to expose their API via a JavaScript object in the web page. This object is called “the Provider”.<br>
<!-- -->The Provider implementations can have conflicting interfaces and behaviors between wallets. This TIP formalizes an EVERSCALE Provider API to promote wallet interoperability. The API is designed to be minimal, event-driven, and agnostic of transport. Its functionality is easily extended by defining new methods and message event types.<br>
<!-- -->Offer for all providers to make available their features as window.everscale in web browsers for uniformity.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a class="hash-link" href="#motivation" title="Direct link to heading">​</a></h2><p>Many teams have created their own solutions during recently conducted the <a href="https://forum.freeton.org/t/contest-proposal-free-ton-wallet-as-a-chrome-extension/8677/36" target="_blank" rel="noopener noreferrer">1st round of Contest on TON wallet as Chrome web extension</a>. This proposal sets as the main aim to work out an agreement for the Web3 like provider interface to avoid any artificial situation when DApp developers can be forced to use only the one wallet on the market. Offer to introduce the uniform Web3 like provider interface and implement its on 3rd stage the contest to allow users using any wallet solution for decentralized applications (DApp) interaction aims.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="specification">Specification<a class="hash-link" href="#specification" title="Direct link to heading">​</a></h2><p>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC-2119.<br>
<!-- -->The Provider API is specified using TypeScript.<br>
<!-- -->The Provider MUST implement and expose the API defined in this section. All API entities MUST adhere to the types and interfaces defined in this section.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="glossary">Glossary<a class="hash-link" href="#glossary" title="Direct link to heading">​</a></h3><p><strong>Provider</strong> - A JavaScript object made available to a consumer, that provides access to EVERSCALE blockchain by means of a Client.<br>
<strong>Client</strong> - An endpoint that receives requests from the Provider, and returns their results.<br>
<strong>Wallet</strong> - An end-user application that manages private keys, performs signing operations, and acts as a middleware between the Provider and the Client.<br>
<strong>Remote Procedure Call (RPC)</strong> - A Remote Procedure Call (RPC), is any request submitted to a Provider for some procedure that is to be processed by a Provider, its Wallet, or its Client.<br>
<strong>Connected provider</strong> - The situation when it can service RPC requests to at least one endpoint.<br>
<strong>Disconnected provider</strong> - The situation when it cannot service RPC requests to at least one endpoint.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface">Interface<a class="hash-link" href="#interface" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request">Request<a class="hash-link" href="#request" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface RequestArguments {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly method: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly params?: readonly unknown[] | object;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Provider.request(args: RequestArguments): Promise&lt;unknown&gt;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Provider must identify the requested RPC method by the value of <em>RequestArguments.method</em>. This method name MUST adhere the format “prefix_moduleName_functionName”, where prefix always MUST be <em>ever</em>, <em>moduleName</em> is a name of module from the documentation <a href="https://github.com/tonlabs/TON-SDK/blob/master/docs/reference/types-and-methods/modules.md" target="_blank" rel="noopener noreferrer">https://github.com/tonlabs/TON-SDK/blob/master/docs/reference/types-and-methods/modules.md</a> and <em>functionName</em> is a name of function from the the documentation. For example: “ever_net_query” <em>RequestArguments.method</em> will link on the query function from the <em>net</em> module <a href="https://github.com/tonlabs/TON-SDK/blob/master/docs/reference/types-and-methods/mod_net.md#query" target="_blank" rel="noopener noreferrer">https://github.com/tonlabs/TON-SDK/blob/master/docs/reference/types-and-methods/mod_net.md#query</a><br>
<!-- -->If the requested RPC method takes any parameters, the Provider MUST accept them as the value of <em>RequestArguments.params</em>.<br>
<!-- -->RPC requests MUST be handled such that the returned Promise either resolves with a value per the requested RPC method’s specification, or rejects with an error.<br>
<!-- -->If resolved, the Promise MUST resolve with a result per the RPC method’s specification. The Promise MUST NOT resolve with any RPC protocol-specific response objects, unless the RPC method’s return type is so defined.<br>
<!-- -->If the returned Promise rejects, it MUST reject with a <em>ProviderRpcError</em> as specified in the RPC Errors section below.<br>
<!-- -->The returned Promise MUST reject if any of the following conditions are met:</p><ul><li>An error is returned for the RPC request.<ul><li>If the returned error is compatible with the ProviderRpcError interface, the Promise MAY reject that error directly.</li></ul></li><li>The Provider encounters an error or fails to process the request for any reason.
The returned Promise SHOULD reject if any of the following conditions are met:</li><li>The disconnected provider.<ul><li>If rejected for this reason, the Promise rejection error code MUST be 4900.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="supported-rpc-methods">Supported RPC Methods<a class="hash-link" href="#supported-rpc-methods" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderRpcResult {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  code: number;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data: unknown;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A “supported RPC method” is any RPC method that may be called via the Provider.<br>
<!-- -->All supported RPC methods MUST be identified by unique strings.<br>
<!-- -->Providers MAY support whatever RPC methods required to fulfill their purpose, standardized or otherwise.<br>
<!-- -->As was described above all methods that are included in the standard SDK MUST adhere to the format “prefix_moduleName_functionName”. All other methods are RECOMMENDED to name in the format “prefix_functionName”, where “prefix” MUST be always <em>ever</em> and <em>functionName</em> must be string in camelCase naming convention. For example: <em>ever_subscribe</em>, <em>ever_signMessage</em><br>
<!-- -->The predefined list of used function names is placed in Appendix I: Used function names.<br>
<!-- -->The common recommendation is to restrict access to the EVERSCALE SDK functions that work with private keys and create wrappers with other methods. The user MUST confirm any action that demands interaction with the private keys.<br>
<!-- -->If an RPC method returns a result without any errors, the code MUST be 4000. If an RPC method returns any  errors as a result, then it SHOULD be rejected with a 4300 error per the Provider Errors section below, or an appropriate error per the RPC method’s specification.<br>
<!-- -->If an RPC method defined in a finalized TIP is not supported, it SHOULD be rejected with a 4200 error per the Provider Errors section below, or an appropriate error per the RPC method’s specification.  </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rpc-errors">RPC Errors<a class="hash-link" href="#rpc-errors" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderRpcError extends Error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  message: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  code: number;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data?: unknown;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>message</p><ul><li>MUST be a human-readable string</li><li>SHOULD adhere to the specifications in the Error Standards section below
code</li><li>MUST be an integer number</li><li>SHOULD adhere to the specifications in the Error Standards section below
data</li><li>SHOULD contain any other useful information about the error</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="error-standards">Error Standards<a class="hash-link" href="#error-standards" title="Direct link to heading">​</a></h4><p>ProviderRpcError codes and messages SHOULD follow these conventions, in order of priority:</p><ol><li>The errors in the Provider Errors section below</li><li>Any errors mandated by the erroring RPC method’s specification</li><li>The CloseEvent status codes</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="provider-errors">Provider Errors<a class="hash-link" href="#provider-errors" title="Direct link to heading">​</a></h4><table><thead><tr><th>Status code</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>4001</td><td>User Rejected Request</td><td>The user rejected the request.</td></tr><tr><td>4100</td><td>Unauthorized</td><td>The requested method and/or account has not been authorized by the user.</td></tr><tr><td>4200</td><td>Unsupported Method</td><td>The Provider does not support the requested method.</td></tr><tr><td>4201</td><td>Wrong parameters</td><td>The Provider supports the requested method, but with other parameters.</td></tr><tr><td>4300</td><td>Method error</td><td>The Provider has run the requested method but the result is the error.</td></tr><tr><td>4900</td><td>Disconnected</td><td>The Provider is disconnected from the endpoint.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="subscriptions">Subscriptions<a class="hash-link" href="#subscriptions" title="Direct link to heading">​</a></h4><p>If the Provider supports EVERSCALE RPC subscriptions, e.g. <em>ever_subscribe</em>, the Provider MUST emit the message event when it receives a subscription notification.<br>
<!-- -->If the Provider receives a subscription message from e.g. an <em>ever_subscribe</em> subscription, the Provider MUST emit a message event with a ProviderMessage object of the following form:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface EverscaleSubscription extends ProviderMessage {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly type: &#x27;ever_subscription&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly data: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    readonly subscription: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    readonly result: unknown;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a class="hash-link" href="#events" title="Direct link to heading">​</a></h4><p>The Provider MUST implement the following event handling methods:</p><ul><li>on</li><li>removeListener
These methods MUST be implemented per the Node.js EventEmitter API.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="message">message<a class="hash-link" href="#message" title="Direct link to heading">​</a></h5><p>When emitted, the <em>message</em> event MUST be emitted with an object argument of the following form:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderMessage {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly type: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly data: unknown;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="connect">connect<a class="hash-link" href="#connect" title="Direct link to heading">​</a></h5><p>If the Provider becomes connected, the Provider MUST emit the event named connect.<br>
<!-- -->This includes when:</p><ul><li>The Provider first connects to an endpoint after initialization.</li><li>The Provider connects to an endpoint after the disconnect event was emitted.</li><li>This event MUST be emitted with an object of the following form:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderConnectInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly endpoint: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>endpoint MUST specify the URL of the connected endpoint.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="disconnect">disconnect<a class="hash-link" href="#disconnect" title="Direct link to heading">​</a></h5><p>If the Provider becomes disconnected from the endpoint, the Provider MUST emit the event named disconnect with value error: ProviderRpcError, per the interface defined in the RPC Errors section. The value of the error’s code property MUST follow the status codes for CloseEvent.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="endpointchanged">endpointChanged<a class="hash-link" href="#endpointchanged" title="Direct link to heading">​</a></h5><p>If the endpoint the connected Provider changes, the Provider MUST emit the event named <em>endpointChanged</em> with value endpoint: string, specifying theURL of the new endpoint.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="accountchanged">accountChanged<a class="hash-link" href="#accountchanged" title="Direct link to heading">​</a></h5><p>If the account is available in the Provider, the Provider MUST emit the event named <em>accountChanged</em> with value account: string, containing the new account address.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rationale">Rationale<a class="hash-link" href="#rationale" title="Direct link to heading">​</a></h4><p>The purpose of a Provider is to provide a consumer with access to EVERSCALE blockchain. In general, a Provider must enable an EVERSCALE web application to do two things:</p><ul><li>Make EVERSCALE RPC requests</li><li>Respond to state changes in the Provider’s EVERSCALE endpoint, Client, and Wallet
The Provider API specification consists of a single method and five events. The request method and the message event alone, are sufficient to implement a complete Provider. They are designed to make arbitrary RPC requests and communicate arbitrary messages, respectively.<br>The remaining four events can be separated into two categories:</li><li>Changes to the Provider’s ability to make RPC requests<ul><li>connect</li><li>disconnect</li></ul></li><li>Common Client and/or Wallet state changes that any non-trivial application must handle<ul><li>endpointChanged</li><li>accountChanged
These events are included due to the widespread production usage of related patterns, at the time of writing.</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="security-considerations">Security Considerations<a class="hash-link" href="#security-considerations" title="Direct link to heading">​</a></h4><p>The Provider is intended to pass messages between a EVERSCALE Client and an EVERSCALE application. It is not responsible for private key or account management; it merely processes RPC messages and emits events. Consequently, account security and user privacy need to be implemented in middlewares between the Provider and its EVERSCALE Client. In practice, we call these middleware applications “Wallets,” and they usually manage the user’s private keys and accounts. The Provider can be thought of as an extension of the Wallet, exposed in an untrusted environment, under the control of some third party (e.g. a website).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="handling-adversarial-behavior">Handling Adversarial Behavior<a class="hash-link" href="#handling-adversarial-behavior" title="Direct link to heading">​</a></h4><p>Since it is a JavaScript object, consumers can generally perform arbitrary operations on the Provider, and all its properties can be read or overwritten. Therefore, it is best to treat the Provider object as though it is controlled by an adversary. It is paramount that the Provider implementer protects the user, Wallet, and Client by ensuring that:</p><ul><li>The Provider does not contain any private user data.</li><li>The Provider and Wallet programs are isolated from each other.</li><li>The Wallet and/or Client rate-limit requests from the Provider.</li><li>The Wallet and/or Client validate all data sent from the Provider.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="endpoint-changes">Endpoint Changes<a class="hash-link" href="#endpoint-changes" title="Direct link to heading">​</a></h4><p>Since all EVERSCALE operations are directed at a particular endpoint, it’s important that the Provider accurately reflects the Client’s configured endpoint.<br>
<!-- -->This includes ensuring that the <em>endpointChanged</em> event is emitted whenever that value changes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="user-account-exposure-and-account-changes">User Account Exposure and Account Changes<a class="hash-link" href="#user-account-exposure-and-account-changes" title="Direct link to heading">​</a></h4><p>Many EVERSCALE operations (e.g. encode_message) require a user account to be specified. Provider consumers access their own accounts via the <em>ever_account</em> RPC method, and by listening for the <em>accountChanged</em> event.<br>
<!-- -->It is critical that <em>ever_account</em> has the correct return value, and that the <em>accountChanged</em> event is emitted whenever that value changes.<br>
<!-- -->The return value of <em>ever_account</em> is ultimately controlled by the Wallet or Client. In order to protect user privacy, this document recommends not exposing accounts by default. Instead, Providers SHOULD support RPC methods for explicitly requesting account access, such as <em>ever_requestPermissions</em>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="copyright">Copyright<a class="hash-link" href="#copyright" title="Direct link to heading">​</a></h4><p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank" rel="noopener noreferrer">CC0</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-i-used-function-names">Appendix I: Used function names<a class="hash-link" href="#appendix-i-used-function-names" title="Direct link to heading">​</a></h4><p>As was introduced before in accordingly with the function naming, others, not standard EVERSCALE SDK functions MUST use format <code>prefix_functionName</code>, some predefined list of such functions presents below:</p><p><strong>wallet_getSdkVersion</strong> - function that SHOULD be used by dApp for getting the SDK version that uses by provider</p><p><strong>wallet_requestPermissions</strong> - function that SHOULD be used by dApp for getting the permission from the wallet to work with RPC. The wallet MUST show a popup to get the confirmation from the user on allowing interaction between the wallet and dApp from which the request was received. params for this method is an array with the list of permissions that the user will grant to the dApp. Each permission MUST be a valid RPC method name. All supported by the wallet methods MUST have a description that will allow the user to understand which type of access will be granted. The methods that will contain the potential using of private keys MUST be highlighted.</p><p><strong>wallet_getPermissions</strong> - function that SHOULD be used by dApp for getting an array of current permissions (empty by default).</p><p><strong>ever_endpoint</strong> - function that SHOULD return the current endpoint if the Provider is connected. <em>params</em> for this method are empty.</p><p><strong>ever_account</strong> - function that SHOULD return the current account address and public key that is used in the wallet. This method MUST be under the permissions mechanism protection. <em>params</em> for this method are empty.</p><p><strong>ever_subscribe</strong> - function that SHOULD be used by dApp for a subscription on blockchain events. Method MUST return subscriptionID that can be used to track the events for this subscription. <em>params</em> for this method are input arguments for the ever_net_subscribe_collection.</p><p><strong>ever_unsubscribe</strong> - function that SHOULD be used by dApp for an unsubscription on blockchain events. <em>params</em> for this method are input arguments for the <em>ever_net_unsubscribe</em>.</p><p><strong>ever_sendTransaction</strong> - function that SHOULD be used by dApp for a sending transaction from wallet to destination with value and message. <em>params</em> for this method are destination, value, message.</p><p><strong>ever_signMessage</strong> - function that SHOULD be used by dApp for a receiving signature of data based on the signing box of the current account. <em>params</em> for this method is a string of unsigned data. This method encapsulates in itself 3 methods - <em>get_signing_box</em>, <em>signing_box</em>, <em>remove_signing_box</em></p><p><strong>ever_getSignature</strong> - function that SHOULD be used by dApp for a signature getting of a message based on the secret key of the current account. <em>params</em> for this method is a string of unsigned data. This method uses <em>nacl_sign</em></p><p><strong>ever_getNaclBoxPublicKey</strong> - function that SHOULD be used by dApp for getting the public key for nacl box.</p><p><strong>ever_encryptMessage</strong> - function that SHOULD be used by dApp for a receiving encoded message based on the Receiver&#x27;s public key and the private key of the current account. <em>params</em> for this method are input arguments for the <em>ever_crypto_nacl_box</em>. The public key for a recipient must be got from <em>ever_get_nacl_box_public_key</em></p><p><strong>ever_decryptMessage</strong> - function that SHOULD be used by dApp for a receiving encoded message based on the Sender&#x27;s public key and the private key of the current account. <em>params</em> for this method are input arguments for the <em>ever_crypto_nacl_box_open</em>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-ii-consumer-facing-api-documentation">Appendix II: Consumer-Facing API Documentation<a class="hash-link" href="#appendix-ii-consumer-facing-api-documentation" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="request-1">Request<a class="hash-link" href="#request-1" title="Direct link to heading">​</a></h5><p>Make a EVERSCALE RPC method call.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface RequestArguments {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly method: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  readonly params?: readonly unknown[] | object;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Provider.request(args: RequestArguments): Promise&lt;unknown&gt;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The returned Promise resolves with the method’s result or rejects with a <em>ProviderRpcError</em>. For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Provider.request({ method: &#x27;ever_account&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .then((account) =&gt; console.log(account))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .catch((error) =&gt; console.error(error));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Consult each EVERSCALE RPC method’s documentation for its params and return type. You can find a list of common methods here.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="events-1">Events<a class="hash-link" href="#events-1" title="Direct link to heading">​</a></h5><h6 class="anchor anchorWithStickyNavbar_LWe7" id="connect-1">connect<a class="hash-link" href="#connect-1" title="Direct link to heading">​</a></h6><p>The Provider emits <em>connect</em> when it:</p><ul><li>first connects to an endpoint after being initialized.</li><li>first connects to an endpoint, after the <em>disconnect</em> event was emitted.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderConnectInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> readonly endpoint: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Provider.on(&#x27;connect&#x27;, listener: (connectInfo: ProviderConnectInfo) =&gt; void): Provider;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The event emits an object with an endpoint URL and other properties as determined by the Provider.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="disconnect-1">disconnect<a class="hash-link" href="#disconnect-1" title="Direct link to heading">​</a></h6><p>The Provider emits <em>disconnect</em> when it becomes disconnected from the endpoint.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Provider.on(&#x27;disconnect&#x27;, listener: (error: ProviderRpcError) =&gt; void): Provider;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This event emits a ProviderRpcError. The error code follows the table of CloseEvent status codes.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="endpointchanged-1">endpointChanged<a class="hash-link" href="#endpointchanged-1" title="Direct link to heading">​</a></h6><p>The Provider emits <em>endpointChanged</em> when connecting to a new endpoint.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Provider.on(&#x27;endpointChanged&#x27;, listener: (endpoint: string) =&gt; void): Provider;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The event emits a URL string endpoint.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="accountchanged-1">accountChanged<a class="hash-link" href="#accountchanged-1" title="Direct link to heading">​</a></h6><p>The Provider emits <em>accountChanged</em> if the account returned from the Provider change.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Provider.on(&#x27;accountChanged&#x27;, listener: (account: string) =&gt; void): Provider;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The event emits an account address.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="unlockstatechanged">unlockStateChanged<a class="hash-link" href="#unlockstatechanged" title="Direct link to heading">​</a></h6><p>The Provider emits <em>unlockStateChanged</em> if the wallet unlock state changes.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Provider.on(&#x27;unlockStateChanged&#x27;, listener: (unlockState: boolean) =&gt; void): Provider;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The event emits boolean value.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="message-1">message<a class="hash-link" href="#message-1" title="Direct link to heading">​</a></h6><p>The Provider emits messages to communicate arbitrary messages to the consumer. Messages may include JSON-RPC notifications, GraphQL subscriptions, and/or any other event as defined by the Provider.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderMessage {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> readonly type: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> readonly data: unknown;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Provider.on(&#x27;message&#x27;, listener: (message: ProviderMessage) =&gt; void): Provider;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="subscriptions-1">Subscriptions<a class="hash-link" href="#subscriptions-1" title="Direct link to heading">​</a></h5><p><em>ever_subscription</em> method relies on this event to emit subscription updates.<br>
<!-- -->For e.g. <em>ever_subscribe</em> subscription updates, ProviderMessage.type will equal the string &#x27;ever_subscription&#x27;, and the subscription data will be the value of ProviderMessage.data.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="errors">Errors<a class="hash-link" href="#errors" title="Direct link to heading">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">interface ProviderRpcError extends Error {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> message: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> code: number;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> data?: unknown;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-iii-examples">Appendix III: Examples<a class="hash-link" href="#appendix-iii-examples" title="Direct link to heading">​</a></h5><p>These examples assume a web browser environment.<br>
<!-- -->// Most Providers are available as window.ever on page load.<br>
<!-- -->// This is only a convention, not a standard, and may not be the case in practice.<br>
<!-- -->// Please consult the Provider implementation&#x27;s documentation.<br>
<!-- -->const ever = window.everscale;<br>
<!-- -->// Example 1: Log endpoint  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .request({ method: &#x27;ever_endpoint&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .then((endpoint) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(`URL string: ${endpoint}`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .catch((error) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.error(`Error fetching endpoint: ${error.code}: ${error.message}`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>// Example 2: Query the latest masterchain block height  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .request({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method: &#x27;ever_net_query&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    params: `query{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               blocks(filter:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       workchain_id:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         eq:-1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     orderBy:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       path:&quot;seq_no&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                       direction:DESC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     limit: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                workchain_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                shard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                seq_no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }`,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .then((block) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(`Block ${block.number}:`, block);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .catch((error) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.error(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      `Error fetching last block: ${error.message}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Code: ${error.code}. Data: ${error.data}`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>// Example 3: Log available account  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .request({ method: &#x27;ever_account&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .then((account) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(`Account:\n${account.join(&#x27;\n&#x27;)}`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .catch((error) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.error(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      `Error fetching account: ${error.message}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Code: ${error.code}. Data: ${error.data}`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>// Example 4: Log new events from smart contract  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .request({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    method: &#x27;ever_subscribe&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    params: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            collection: &quot;messages&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            filter: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              src: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                eq: &quot;-1:67f4bf95722e1bd6df845fca7991e5e7128ce4a6d25f6d4ef027d139a11a7964&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              msg_type:{ eq:2 }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            result: &quot;boc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .then((subscriptionId) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ever.on(&#x27;message&#x27;, (message) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (message.type === &#x27;ever_subscription&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const { data } = message;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (data.subscriptionId === subscriptionId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          if (&#x27;params&#x27; in data &amp;&amp; typeof data.params === &#x27;object&#x27; &amp;&amp; &#x27;result&#x27; in data.params &amp;&amp; typeof data.params.result === &#x27;object&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const boc = data.params.result.boc;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              .request({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                method: &#x27;ever_abi_decode_message&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                params: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  abi: abiContract(HelloEventsContract.abi),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  message: boc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              }).then((decoded) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   console.log(`New event ${decoded.name} with type ${decoded.body_type}:`, decoded.value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.error(`Something went wrong: ${data.result}`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .catch((error) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.error(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      `Error making events subscription: ${error.message}.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Code: ${error.code}. Data: ${error.data}`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>// Example 5: Log when account change  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const logAccount = (account) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(`Account:\n${account}`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ever.on(&#x27;accountChanged&#x27;, logAccount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// to unsubscribe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ever.removeListener(&#x27;accountChanged&#x27;, logAccount);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>// Example 6: Log if connection ends  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ever.on(&#x27;disconnect&#x27;, (code, reason) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(`EVERSCALE Provider connection closed: ${reason}. Code: ${code}`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/everscale-org/docs/edit/main/.build/website/../../src/Standard/TIP-32/1.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-07-26T00:16:13.000Z">Jul 26, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Standard/TIP-32/core-description"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Core description</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/changelog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Network Changelog</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#abstract" class="table-of-contents__link toc-highlight">Abstract</a></li><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a></li><li><a href="#specification" class="table-of-contents__link toc-highlight">Specification</a><ul><li><a href="#glossary" class="table-of-contents__link toc-highlight">Glossary</a></li><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://everscale-org.github.io/Calendar/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Event Calendar<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/everscale-org/job/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jobs and Vacancy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://mitja.gitbook.io/everscale-white-paper/" target="_blank" rel="noopener noreferrer" class="footer__link-item">White Paper<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://mitja.gitbook.io/everscale-lite-paper/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lite Paper<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/Everscale_community/search?query=Weekly%20Meetup" target="_blank" rel="noopener noreferrer" class="footer__link-item">Weekly Meetup<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://everscale.network/about/brand" target="_blank" rel="noopener noreferrer" class="footer__link-item">Visual Brand Identity<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gov.gramkit.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subgovernances<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://everscale.network/developers/grants" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/EverscaleGuild/bounties/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bounties<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/EverscaleSmartContracts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Smart Contracts Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/ever_validators" target="_blank" rel="noopener noreferrer" class="footer__link-item">Everscale Validators Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/EverscaleIncubator" target="_blank" rel="noopener noreferrer" class="footer__link-item">Incubator Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/everscaledebots" target="_blank" rel="noopener noreferrer" class="footer__link-item">DeBots Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/ever_sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDK Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/everscale" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Workshop</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/develop/smart-contract/getting-started/">Tutorial</a></li><li class="footer__item"><a href="https://youtu.be/XKMnroPWXek" target="_blank" rel="noopener noreferrer" class="footer__link-item">Smart contract-architecture<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://youtu.be/YBIaFeaksMY" target="_blank" rel="noopener noreferrer" class="footer__link-item">Smart-contract development<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PLPj4C8ti8UaSPAP6afsy0wQ53lihBT5l1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Course<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://youtu.be/vFAatJO6cBM" target="_blank" rel="noopener noreferrer" class="footer__link-item">Development of DeBots<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/EverVoice" target="_blank" rel="noopener noreferrer" class="footer__link-item">Voice Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/tonlabs/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample smart-contracts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tonlabs/sdk-samples" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sample SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tonlabs.gitbook.io/appkit-js/" target="_blank" rel="noopener noreferrer" class="footer__link-item">JS Application Kit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tonlabs/TON-Solidity-Compiler/blob/master/API.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Solidity API<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.ton.dev/86757ecb2/p/40ba94-abi-specification-v2" target="_blank" rel="noopener noreferrer" class="footer__link-item">ABI Specification<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tonlabs/True-NFT" target="_blank" rel="noopener noreferrer" class="footer__link-item">NFT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/tonlabs/tonos-cli" target="_blank" rel="noopener noreferrer" class="footer__link-item">CLI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tonlabs.gitbook.io/ton-sdk/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2020—2022
 <a href="https://everscale.network/">Everscale</a> All rights reserved
  <a href="https://t.me/everscale">Touch</a>
 <br>
 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
    <img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">
 </a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.fe471d0f.js"></script>
<script src="/assets/js/main.f613e946.js"></script>
</body>
</html>